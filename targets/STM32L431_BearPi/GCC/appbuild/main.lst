ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.comm	BH1750_send,5,4
  18              		.comm	key1_send,20,4
  19              		.comm	key2_send,5,4
  20              		.comm	mid,1,1
  21              		.global	toggle
  22              		.section	.bss.toggle,"aw",%nobits
  25              	toggle:
  26 0000 00       		.space	1
  27              		.global	key1
  28              		.section	.bss.key1,"aw",%nobits
  31              	key1:
  32 0000 00       		.space	1
  33              		.global	key2
  34              		.section	.bss.key2,"aw",%nobits
  37              	key2:
  38 0000 00       		.space	1
  39              		.global	s_resp_buf
  40              		.section	.bss.s_resp_buf,"aw",%nobits
  41              		.align	2
  44              	s_resp_buf:
  45 0000 00000000 		.space	14
  45      00000000 
  45      00000000 
  45      0000
  46              		.comm	reply_sem,4,4
  47              		.global	system_phys_mem
  48              		.section	.rodata.system_phys_mem,"a",%progbits
  49              		.align	2
  52              	system_phys_mem:
  53 0000 00000000 		.word	__los_heap_addr_start__
  54 0004 00000000 		.word	__los_heap_addr_end__
  55 0008 00000000 		.word	0
  56 000c 00000000 		.word	0
  57              		.section	.rodata
  58              		.align	2
  59              	.LC0:
  60 0000 57656C63 		.ascii	"Welcome to IoTCluB!\000"
  60      6F6D6520 
  60      746F2049 
  60      6F54436C 
  60      75422100 
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 2


  61              		.align	2
  62              	.LC1:
  63 0014 42656172 		.ascii	"BearPi IoT Develop Board\000"
  63      50692049 
  63      6F542044 
  63      6576656C 
  63      6F702042 
  64 002d 000000   		.align	2
  65              	.LC2:
  66 0030 506F7765 		.ascii	"Powerd by Huawei LiteOS!\000"
  66      72642062 
  66      79204875 
  66      61776569 
  66      204C6974 
  67 0049 000000   		.align	2
  68              	.LC3:
  69 004c 506C6561 		.ascii	"Please wait for system init\000"
  69      73652077 
  69      61697420 
  69      666F7220 
  69      73797374 
  70              		.section	.text.HardWare_Init,"ax",%progbits
  71              		.align	1
  72              		.global	HardWare_Init
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  76              		.fpu fpv4-sp-d16
  78              	HardWare_Init:
  79              	.LFB160:
  80              		.file 1 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src/main.c"
   1:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** /*----------------------------------------------------------------------------
   2:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * All rights reserved.
   4:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * are permitted provided that the following conditions are met:
   6:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * conditions and the following disclaimer.
   8:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * provided with the distribution.
  11:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * to endorse or promote products derived from this software without specific prior written
  13:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * permission.
  14:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  *---------------------------------------------------------------------------*/
  26:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** /*----------------------------------------------------------------------------
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 3


  27:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * Notice of Export Control Law
  28:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * ===============================================
  29:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  * applicable export control laws and regulations.
  33:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****  *---------------------------------------------------------------------------*/
  34:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "main.h"
  35:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "sys_init.h"
  36:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "mem.h"
  37:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
  38:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "los_base.h"
  39:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "los_task.ph"
  40:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "los_typedef.h"
  41:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #include "los_sys.h"
  42:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
  43:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** msg_for_BH1750      BH1750_send;
  44:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** msg_for_key1      key1_send;
  45:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** msg_for_key2      key2_send;
  46:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** app_msgid mid;
  47:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** uint8_t toggle = 0;
  48:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** bool key1 = false, key2 = false;
  49:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** char s_resp_buf[14] = {0};
  50:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** uint32_t reply_sem;
  51:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
  52:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #if defined (__CC_ARM)
  53:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** extern char Image$$RW_IRAM1$$ZI$$Limit [];
  54:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** extern char Image$$ARM_LIB_STACKHEAP$$Base [];
  55:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #elif defined (__GNUC__)
  56:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** extern char __los_heap_addr_start__ [];
  57:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** extern char __los_heap_addr_end__ [];
  58:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #else
  59:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #error "fix me"
  60:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #endif
  61:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
  62:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** const struct phys_mem system_phys_mem [] =
  63:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     {
  64:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #if defined (__CC_ARM)
  65:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****         { Image$$RW_IRAM1$$ZI$$Limit, Image$$ARM_LIB_STACKHEAP$$Base },
  66:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #elif defined (__GNUC__)
  67:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****         {(unsigned long) __los_heap_addr_start__,(unsigned long) __los_heap_addr_end__ },
  68:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #else
  69:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #error "fix me"
  70:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** #endif
  71:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****         { 0, 0 }
  72:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     };
  73:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
  74:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** VOID HardWare_Init(VOID)
  75:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** {
  81              		.loc 1 75 0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 1, uses_anonymous_args = 0
  85 0000 80B5     		push	{r7, lr}
  86              	.LCFI0:
  87              		.cfi_def_cfa_offset 8
  88              		.cfi_offset 7, -8
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 4


  89              		.cfi_offset 14, -4
  90 0002 82B0     		sub	sp, sp, #8
  91              	.LCFI1:
  92              		.cfi_def_cfa_offset 16
  93 0004 02AF     		add	r7, sp, #8
  94              	.LCFI2:
  95              		.cfi_def_cfa 7, 8
  76:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	HAL_Init();
  96              		.loc 1 76 0
  97 0006 FFF7FEFF 		bl	HAL_Init
  77:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	/* Configure the system clock */
  78:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	SystemClock_Config();
  98              		.loc 1 78 0
  99 000a FFF7FEFF 		bl	SystemClock_Config
  79:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	MX_GPIO_Init();
 100              		.loc 1 79 0
 101 000e FFF7FEFF 		bl	MX_GPIO_Init
  80:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	MX_I2C1_Init();
 102              		.loc 1 80 0
 103 0012 FFF7FEFF 		bl	MX_I2C1_Init
  81:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	MX_SPI2_Init();
 104              		.loc 1 81 0
 105 0016 FFF7FEFF 		bl	MX_SPI2_Init
  82:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	dwt_delay_init(SystemCoreClock);
 106              		.loc 1 82 0
 107 001a 1D4B     		ldr	r3, .L2
 108 001c 1B68     		ldr	r3, [r3]
 109 001e 1846     		mov	r0, r3
 110 0020 FFF7FEFF 		bl	dwt_delay_init
  83:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LCD_Init();					
 111              		.loc 1 83 0
 112 0024 FFF7FEFF 		bl	LCD_Init
  84:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LCD_Clear(WHITE);		   	
 113              		.loc 1 84 0
 114 0028 4FF6FF70 		movw	r0, #65535
 115 002c FFF7FEFF 		bl	LCD_Clear
  85:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	POINT_COLOR = RED;			
 116              		.loc 1 85 0
 117 0030 184B     		ldr	r3, .L2+4
 118 0032 4FF47842 		mov	r2, #63488
 119 0036 1A80     		strh	r2, [r3]	@ movhi
  86:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LCD_ShowString(10, 50, 240, 24, 24, "Welcome to IoTCluB!");
 120              		.loc 1 86 0
 121 0038 174B     		ldr	r3, .L2+8
 122 003a 0193     		str	r3, [sp, #4]
 123 003c 1823     		movs	r3, #24
 124 003e 0093     		str	r3, [sp]
 125 0040 1823     		movs	r3, #24
 126 0042 F022     		movs	r2, #240
 127 0044 3221     		movs	r1, #50
 128 0046 0A20     		movs	r0, #10
 129 0048 FFF7FEFF 		bl	LCD_ShowString
  87:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LCD_ShowString(20, 90, 240, 16, 16, "BearPi IoT Develop Board");
 130              		.loc 1 87 0
 131 004c 134B     		ldr	r3, .L2+12
 132 004e 0193     		str	r3, [sp, #4]
 133 0050 1023     		movs	r3, #16
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 5


 134 0052 0093     		str	r3, [sp]
 135 0054 1023     		movs	r3, #16
 136 0056 F022     		movs	r2, #240
 137 0058 5A21     		movs	r1, #90
 138 005a 1420     		movs	r0, #20
 139 005c FFF7FEFF 		bl	LCD_ShowString
  88:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LCD_ShowString(20, 130, 240, 16, 16, "Powerd by Huawei LiteOS!");
 140              		.loc 1 88 0
 141 0060 0F4B     		ldr	r3, .L2+16
 142 0062 0193     		str	r3, [sp, #4]
 143 0064 1023     		movs	r3, #16
 144 0066 0093     		str	r3, [sp]
 145 0068 1023     		movs	r3, #16
 146 006a F022     		movs	r2, #240
 147 006c 8221     		movs	r1, #130
 148 006e 1420     		movs	r0, #20
 149 0070 FFF7FEFF 		bl	LCD_ShowString
  89:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LCD_ShowString(10, 170, 240, 16, 16, "Please wait for system init");
 150              		.loc 1 89 0
 151 0074 0B4B     		ldr	r3, .L2+20
 152 0076 0193     		str	r3, [sp, #4]
 153 0078 1023     		movs	r3, #16
 154 007a 0093     		str	r3, [sp]
 155 007c 1023     		movs	r3, #16
 156 007e F022     		movs	r2, #240
 157 0080 AA21     		movs	r1, #170
 158 0082 0A20     		movs	r0, #10
 159 0084 FFF7FEFF 		bl	LCD_ShowString
  90:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	
  91:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** }
 160              		.loc 1 91 0
 161 0088 00BF     		nop
 162 008a BD46     		mov	sp, r7
 163              	.LCFI3:
 164              		.cfi_def_cfa_register 13
 165              		@ sp needed
 166 008c 80BD     		pop	{r7, pc}
 167              	.L3:
 168 008e 00BF     		.align	2
 169              	.L2:
 170 0090 00000000 		.word	SystemCoreClock
 171 0094 00000000 		.word	POINT_COLOR
 172 0098 00000000 		.word	.LC0
 173 009c 14000000 		.word	.LC1
 174 00a0 30000000 		.word	.LC2
 175 00a4 4C000000 		.word	.LC3
 176              		.cfi_endproc
 177              	.LFE160:
 179              		.section	.rodata
 180              		.align	2
 181              	.LC4:
 182 0068 6C696E6B 		.ascii	"link_main\000"
 182      5F6D6169 
 182      6E00
 183              		.section	.text.link_test,"ax",%progbits
 184              		.align	1
 185              		.syntax unified
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 6


 186              		.thumb
 187              		.thumb_func
 188              		.fpu fpv4-sp-d16
 190              	link_test:
 191              	.LFB161:
  92:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
  93:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** extern int link_main(void *args);
  94:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** static int link_test()
  95:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** {
 192              		.loc 1 95 0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 40
 195              		@ frame_needed = 1, uses_anonymous_args = 0
 196 0000 80B5     		push	{r7, lr}
 197              	.LCFI4:
 198              		.cfi_def_cfa_offset 8
 199              		.cfi_offset 7, -8
 200              		.cfi_offset 14, -4
 201 0002 8AB0     		sub	sp, sp, #40
 202              	.LCFI5:
 203              		.cfi_def_cfa_offset 48
 204 0004 00AF     		add	r7, sp, #0
 205              	.LCFI6:
 206              		.cfi_def_cfa_register 7
  96:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     int ret = -1;
 207              		.loc 1 96 0
 208 0006 4FF0FF33 		mov	r3, #-1
 209 000a 7B62     		str	r3, [r7, #36]
  97:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     UINT32 uwRet = LOS_OK;
 210              		.loc 1 97 0
 211 000c 0023     		movs	r3, #0
 212 000e 3B62     		str	r3, [r7, #32]
  98:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     UINT32  handle;
  99:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     TSK_INIT_PARAM_S task_init_param;
 100:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
 101:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     memset (&task_init_param, 0, sizeof (TSK_INIT_PARAM_S));
 213              		.loc 1 101 0
 214 0010 3B1D     		adds	r3, r7, #4
 215 0012 1822     		movs	r2, #24
 216 0014 0021     		movs	r1, #0
 217 0016 1846     		mov	r0, r3
 218 0018 FFF7FEFF 		bl	memset
 102:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     task_init_param.uwArg = (unsigned int)NULL;
 219              		.loc 1 102 0
 220 001c 0023     		movs	r3, #0
 221 001e FB60     		str	r3, [r7, #12]
 103:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     task_init_param.usTaskPrio = 2;
 222              		.loc 1 103 0
 223 0020 0223     		movs	r3, #2
 224 0022 3B81     		strh	r3, [r7, #8]	@ movhi
 104:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     task_init_param.pcName =(char *) "link_main";
 225              		.loc 1 104 0
 226 0024 0C4B     		ldr	r3, .L7
 227 0026 7B61     		str	r3, [r7, #20]
 105:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     task_init_param.pfnTaskEntry = (TSK_ENTRY_FUNC)link_main;
 228              		.loc 1 105 0
 229 0028 0C4B     		ldr	r3, .L7+4
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 7


 230 002a 7B60     		str	r3, [r7, #4]
 106:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     task_init_param.uwStackSize = 0x1000;
 231              		.loc 1 106 0
 232 002c 4FF48053 		mov	r3, #4096
 233 0030 3B61     		str	r3, [r7, #16]
 107:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     uwRet = LOS_TaskCreate(&handle, &task_init_param);
 234              		.loc 1 107 0
 235 0032 3A1D     		adds	r2, r7, #4
 236 0034 07F11C03 		add	r3, r7, #28
 237 0038 1146     		mov	r1, r2
 238 003a 1846     		mov	r0, r3
 239 003c FFF7FEFF 		bl	LOS_TaskCreate
 240 0040 3862     		str	r0, [r7, #32]
 108:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     if(LOS_OK == uwRet){
 241              		.loc 1 108 0
 242 0042 3B6A     		ldr	r3, [r7, #32]
 243 0044 002B     		cmp	r3, #0
 244 0046 01D1     		bne	.L5
 109:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****         ret = 0;
 245              		.loc 1 109 0
 246 0048 0023     		movs	r3, #0
 247 004a 7B62     		str	r3, [r7, #36]
 248              	.L5:
 110:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     }
 111:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     return ret;
 249              		.loc 1 111 0
 250 004c 7B6A     		ldr	r3, [r7, #36]
 112:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** }
 251              		.loc 1 112 0
 252 004e 1846     		mov	r0, r3
 253 0050 2837     		adds	r7, r7, #40
 254              	.LCFI7:
 255              		.cfi_def_cfa_offset 8
 256 0052 BD46     		mov	sp, r7
 257              	.LCFI8:
 258              		.cfi_def_cfa_register 13
 259              		@ sp needed
 260 0054 80BD     		pop	{r7, pc}
 261              	.L8:
 262 0056 00BF     		.align	2
 263              	.L7:
 264 0058 68000000 		.word	.LC4
 265 005c 00000000 		.word	link_main
 266              		.cfi_endproc
 267              	.LFE161:
 269              		.section	.text.main,"ax",%progbits
 270              		.align	1
 271              		.global	main
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 275              		.fpu fpv4-sp-d16
 277              	main:
 278              	.LFB162:
 113:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
 114:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** int main(void)
 115:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** {
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 8


 279              		.loc 1 115 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 8
 282              		@ frame_needed = 1, uses_anonymous_args = 0
 283 0000 80B5     		push	{r7, lr}
 284              	.LCFI9:
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 7, -8
 287              		.cfi_offset 14, -4
 288 0002 84B0     		sub	sp, sp, #16
 289              	.LCFI10:
 290              		.cfi_def_cfa_offset 24
 291 0004 02AF     		add	r7, sp, #8
 292              	.LCFI11:
 293              		.cfi_def_cfa 7, 16
 116:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     UINT32 uwRet = LOS_OK;
 294              		.loc 1 116 0
 295 0006 0023     		movs	r3, #0
 296 0008 7B60     		str	r3, [r7, #4]
 117:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     HardWare_Init();
 297              		.loc 1 117 0
 298 000a FFF7FEFF 		bl	HardWare_Init
 118:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     uwRet = LOS_KernelInit();
 299              		.loc 1 118 0
 300 000e FFF7FEFF 		bl	LOS_KernelInit
 301 0012 7860     		str	r0, [r7, #4]
 119:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LOS_HwiCreate(EXTI2_IRQn, 2,0,EXTI2_IRQHandler,NULL);
 302              		.loc 1 119 0
 303 0014 0023     		movs	r3, #0
 304 0016 0093     		str	r3, [sp]
 305 0018 0D4B     		ldr	r3, .L12
 306 001a 0022     		movs	r2, #0
 307 001c 0221     		movs	r1, #2
 308 001e 0820     		movs	r0, #8
 309 0020 FFF7FEFF 		bl	LOS_HwiCreate
 120:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 	LOS_HwiCreate(EXTI3_IRQn, 3,0,EXTI3_IRQHandler,NULL);
 310              		.loc 1 120 0
 311 0024 0023     		movs	r3, #0
 312 0026 0093     		str	r3, [sp]
 313 0028 0A4B     		ldr	r3, .L12+4
 314 002a 0022     		movs	r2, #0
 315 002c 0321     		movs	r1, #3
 316 002e 0920     		movs	r0, #9
 317 0030 FFF7FEFF 		bl	LOS_HwiCreate
 121:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     if (uwRet != LOS_OK)
 318              		.loc 1 121 0
 319 0034 7B68     		ldr	r3, [r7, #4]
 320 0036 002B     		cmp	r3, #0
 321 0038 01D0     		beq	.L10
 122:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     {
 123:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****         return LOS_NOK;
 322              		.loc 1 123 0
 323 003a 0123     		movs	r3, #1
 324 003c 04E0     		b	.L11
 325              	.L10:
 124:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     }
 125:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 9


 126:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     link_test();
 326              		.loc 1 126 0
 327 003e FFF7FEFF 		bl	link_test
 127:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** 
 128:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     (void)LOS_Start();
 328              		.loc 1 128 0
 329 0042 FFF7FEFF 		bl	LOS_Start
 129:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c ****     return 0;
 330              		.loc 1 129 0
 331 0046 0023     		movs	r3, #0
 332              	.L11:
 130:E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Src\main.c **** }
 333              		.loc 1 130 0
 334 0048 1846     		mov	r0, r3
 335 004a 0837     		adds	r7, r7, #8
 336              	.LCFI12:
 337              		.cfi_def_cfa_offset 8
 338 004c BD46     		mov	sp, r7
 339              	.LCFI13:
 340              		.cfi_def_cfa_register 13
 341              		@ sp needed
 342 004e 80BD     		pop	{r7, pc}
 343              	.L13:
 344              		.align	2
 345              	.L12:
 346 0050 00000000 		.word	EXTI2_IRQHandler
 347 0054 00000000 		.word	EXTI3_IRQHandler
 348              		.cfi_endproc
 349              	.LFE162:
 351              		.text
 352              	.Letext0:
 353              		.file 2 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 354              		.file 3 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 355              		.file 4 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 356              		.file 5 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 357              		.file 6 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 358              		.file 7 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_typedef.h"
 359              		.file 8 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.2018071
 360              		.file 9 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/arch/arm/common/cmsis/core_cm4.h"
 361              		.file 10 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/system_stm32l4xx.h"
 362              		.file 11 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/stm32l431xx.h"
 363              		.file 12 "E:/LiteOS/LiteOS_Lab/drivers/third_party/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h
 364              		.file 13 "E:/LiteOS/LiteOS_Lab/drivers/third_party/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h
 365              		.file 14 "E:/LiteOS/LiteOS_Lab/drivers/third_party/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c.h
 366              		.file 15 "E:/LiteOS/LiteOS_Lab/drivers/third_party/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h
 367              		.file 16 "E:/LiteOS/LiteOS_Lab/drivers/third_party/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.
 368              		.file 17 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_config.h"
 369              		.file 18 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_list.h"
 370              		.file 19 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_err.h"
 371              		.file 20 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/arch/arm/arm-m/include/los_hwi.h"
 372              		.file 21 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_tick.h"
 373              		.file 22 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_event.h"
 374              		.file 23 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_task.h"
 375              		.file 24 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/los_task.ph"
 376              		.file 25 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/main.h"
 377              		.file 26 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/los_slab.ph"
 378              		.file 27 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/los_memory.h"
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 10


 379              		.file 28 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/los_queue.ph"
 380              		.file 29 "e:\\ac6\\systemworkbench\\plugins\\fr.ac6.mcu.externaltools.arm-none.win32_1.16.0.201807
 381              		.file 30 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/usart.h"
 382              		.file 31 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/i2c.h"
 383              		.file 32 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Inc/spi.h"
 384              		.file 33 "E:/LiteOS/LiteOS_Lab/targets/STM32L431_BearPi/Hardware/LCD/lcd.h"
 385              		.file 34 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/include/list.h"
 386              		.file 35 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/chunk.h"
 387              		.file 36 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/cm-tlsf.h"
 388              		.file 37 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/heap.h"
 389              		.file 38 "E:/LiteOS/LiteOS_Lab/iot_link/os/os_imp/liteos/base/include/mem.h"
ARM GAS  C:\Users\user\AppData\Local\Temp\ccuRaGTW.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
                            *COM*:00000005 BH1750_send
                            *COM*:00000014 key1_send
                            *COM*:00000005 key2_send
                            *COM*:00000001 mid
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:25     .bss.toggle:00000000 toggle
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:26     .bss.toggle:00000000 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:31     .bss.key1:00000000 key1
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:32     .bss.key1:00000000 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:37     .bss.key2:00000000 key2
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:38     .bss.key2:00000000 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:44     .bss.s_resp_buf:00000000 s_resp_buf
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:41     .bss.s_resp_buf:00000000 $d
                            *COM*:00000004 reply_sem
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:52     .rodata.system_phys_mem:00000000 system_phys_mem
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:49     .rodata.system_phys_mem:00000000 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:58     .rodata:00000000 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:71     .text.HardWare_Init:00000000 $t
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:78     .text.HardWare_Init:00000000 HardWare_Init
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:170    .text.HardWare_Init:00000090 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:184    .text.link_test:00000000 $t
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:190    .text.link_test:00000000 link_test
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:264    .text.link_test:00000058 $d
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:270    .text.main:00000000 $t
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:277    .text.main:00000000 main
C:\Users\user\AppData\Local\Temp\ccuRaGTW.s:346    .text.main:00000050 $d

UNDEFINED SYMBOLS
__los_heap_addr_start__
__los_heap_addr_end__
HAL_Init
SystemClock_Config
MX_GPIO_Init
MX_I2C1_Init
MX_SPI2_Init
dwt_delay_init
LCD_Init
LCD_Clear
LCD_ShowString
SystemCoreClock
POINT_COLOR
memset
LOS_TaskCreate
link_main
LOS_KernelInit
LOS_HwiCreate
LOS_Start
EXTI2_IRQHandler
EXTI3_IRQHandler
